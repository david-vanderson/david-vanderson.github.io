<rss version="2.0">
  <channel>
    <title>DVUI</title>
    <link>https://david-vanderson.github.io</link>
    <description>DVUI - Devlog</description>
    <generator>Zine -- https://zine-ssg.io</generator>
    <language>en-US</language>
    <lastBuildDate>Mon, 01 Dec 2025 20:26:37 +0000</lastBuildDate>
    
      
        <item>
          <title>November 2025
</title>
          <description>&lt;div id=&quot;2025-12-01&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-12-01&quot;&gt;November 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;9&lt;/strong&gt; people contributed this month with &lt;strong&gt;150&lt;/strong&gt; commits.&lt;/p&gt;&lt;h4&gt;Raylib-zig Backend&lt;/h4&gt;&lt;p&gt;Big thanks to &lt;strong&gt;Accipiter Nova&lt;/strong&gt; for contributing a whole new &lt;code&gt;raylib-zig&lt;/code&gt; backend!&lt;/p&gt;&lt;ul&gt;&lt;li&gt;uses &lt;a href=&quot;https://github.com/raylib-zig/raylib-zig&quot; target=&quot;_blank&quot;&gt;raylib-zig&lt;/a&gt; zig bindings to raylib instead of C api&lt;/li&gt;&lt;li&gt;new examples &lt;code&gt;raylib-zig-standalone&lt;/code&gt;, &lt;code&gt;raylib-zig-ontop&lt;/code&gt;, and &lt;code&gt;raylib-zig-app&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;SDL3GPU Backend&lt;/h4&gt;&lt;p&gt;Huge thanks to &lt;strong&gt;Peter Li&lt;/strong&gt; who contributed a whole new &lt;code&gt;sdl3gpu&lt;/code&gt; backend!&lt;/p&gt;&lt;ul&gt;&lt;li&gt;makes dvui usable with sdl3gpu apps/games&lt;/li&gt;&lt;li&gt;new examples &lt;code&gt;sdl3gpu-standalone&lt;/code&gt; and &lt;code&gt;sdl3gpu-ontop&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;Ninepatch Backgrounds&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;Louis Pearson&lt;/strong&gt; contributed &lt;a href=&quot;https://en.wikipedia.org/wiki/9-slice_scaling&quot; target=&quot;_blank&quot;&gt;ninepatch scaling&lt;/a&gt;, a technique to scale up small images while retaining corner and side details.&lt;/p&gt;&lt;p&gt;This is very useful for customizing box and especially button backgrounds that can resize nicely. Thank you!&lt;/p&gt;&lt;h4&gt;Merge Widget init() and install()&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;Teodor Källman&lt;/strong&gt; fixed a longstanding api mistake I made early on.  Thank you!&lt;/p&gt;&lt;p&gt;NOTE: The higher-level apis like &lt;code&gt;dvui.button()&lt;/code&gt; are unchanged, this only affected the lower level apis.&lt;/p&gt;&lt;p&gt;Widgets used to have a 2-step initialization thing:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;zig&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;constant variable_builtin type variable&quot;&gt;bw&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;constant variable_builtin type variable&quot;&gt;ButtonWidget&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;type constant variable_builtin function_call variable_member variable&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;punctuation_bracket&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;variable_builtin&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;punctuation_bracket&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;constant variable_builtin type variable&quot;&gt;bw&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;type constant variable_builtin function_call variable_member variable&quot;&gt;install&lt;/span&gt;&lt;span class=&quot;punctuation_bracket&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;punctuation_bracket&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It was done this way to support modifying the rect a widget got from &lt;code&gt;init()&lt;/code&gt; before it processed events or drew anything in &lt;code&gt;install()&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Turns out that is a &lt;em&gt;very&lt;/em&gt; niche usecase, and it’s easy to forget to call &lt;code&gt;install()&lt;/code&gt; and access undefined memory.&lt;/p&gt;&lt;p&gt;Also because &lt;code&gt;init()&lt;/code&gt; had to return a (copy) of the widget, &lt;code&gt;init()&lt;/code&gt; could not take any pointers to internal widget stuff, which tripped us up more than a few times.&lt;/p&gt;&lt;p&gt;Now we have merged these into a single &lt;code&gt;init()&lt;/code&gt; that takes a mutable self pointer:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;zig&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;constant variable_builtin type variable&quot;&gt;bw&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;constant variable_builtin type variable&quot;&gt;ButtonWidget&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;constant_builtin&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;constant variable_builtin type variable&quot;&gt;bw&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;type constant variable_builtin function_call variable_member variable&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;punctuation_bracket&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;constant variable_builtin type variable&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;constant variable_builtin type variable&quot;&gt;init_opts&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;constant variable_builtin type variable&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;punctuation_bracket&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;punctuation_delimiter&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This should make these apis easier to use and harder to mess up.&lt;/p&gt;&lt;h4&gt;New Events (quitting)&lt;/h4&gt;&lt;p&gt;We got requests for a way to show a “unsaved work warning” dialog when the user clicks the window close button.&lt;/p&gt;&lt;p&gt;To support this, &lt;code&gt;dvui.Event&lt;/code&gt; grew two new kinds of events:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;“Window” events (currently only “close”) pertain to the OS window&lt;ul&gt;&lt;li&gt;future events could be stuff like “resized”, “focus lost”, “minimized”, etc.&lt;/li&gt;&lt;li&gt;each &lt;code&gt;dvui.Window&lt;/code&gt; can match these events for its OS window&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;“App” events (currently only “quit”) are for the whole application&lt;ul&gt;&lt;li&gt;future events could be something like “about to go to background”&lt;/li&gt;&lt;li&gt;these will likely be delivered to only a single &lt;code&gt;dvui.Window&lt;/code&gt;, but will always match&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;code&gt;dvui.App&lt;/code&gt; based applications can handle these events to prevent the default behavior (the application shutting down).&lt;/p&gt;&lt;h4&gt;More Improvements:&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;nice plot ticks and subticks (*&lt;em&gt;Levente Vámos&lt;/em&gt;)&lt;ul&gt;&lt;li&gt;including formatting, tick/grid lines, mirrored tick lines&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;plot log scales (*&lt;em&gt;Levente Vámos&lt;/em&gt;)&lt;/li&gt;&lt;li&gt;optionally include builtin fonts (&lt;strong&gt;Teodor Källman&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;bar plots (&lt;strong&gt;geemili&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;tree keyboard nav improvements (&lt;strong&gt;Jamie Harvey&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;PanedWidget autofit first pane when horizontal (&lt;strong&gt;Jamie Harvey&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;textEntry accepts &lt;code&gt;*ArrayList(u8)&lt;/code&gt; as a backing buffer&lt;/li&gt;&lt;li&gt;renderText and LabelWidget handle rotated text&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-12-01</link>
          <pubDate>Mon, 01 Dec 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-12-01</guid>
        </item>
      
        <item>
          <title>October 2025
</title>
          <description>&lt;div id=&quot;2025-11-01&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-11-01&quot;&gt;October 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;5&lt;/strong&gt; people contributed this month with &lt;strong&gt;146&lt;/strong&gt; commits.&lt;/p&gt;&lt;h4&gt;Screen Reader Support&lt;/h4&gt;&lt;p&gt;Huge thanks to &lt;strong&gt;Paul Hatchman&lt;/strong&gt; who implemented OS &lt;strong&gt;screen-reader&lt;/strong&gt; support!&lt;/p&gt;&lt;p&gt;DVUI now integrates with &lt;a href=&quot;https://accesskit.dev/&quot; target=&quot;_blank&quot;&gt;AccessKit&lt;/a&gt; via their &lt;a href=&quot;https://github.com/AccessKit/accesskit-c&quot; target=&quot;_blank&quot;&gt;C API&lt;/a&gt; to communicate the dvui widget tree to the OS-specific accessibility apis.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;use &lt;code&gt;-Daccesskit=static&lt;/code&gt; or &lt;code&gt;-Daccesskit=shared&lt;/code&gt; (also &lt;code&gt;-fsys=accesskit&lt;/code&gt;)&lt;/li&gt;&lt;li&gt;supports Windows, Mac, and Linux&lt;/li&gt;&lt;li&gt;can get accessibility input events (like focus or activate)&lt;/li&gt;&lt;li&gt;see &lt;a href=&quot;https://github.com/david-vanderson/dvui/blob/main/readme-accessibility.md&quot; target=&quot;_blank&quot;&gt;readme-accessibility&lt;/a&gt; for details&lt;/li&gt;&lt;li&gt;please file bugs and missing features so we can continue to improve this&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This is a huge step for accessibility - horay!&lt;/p&gt;&lt;h4&gt;Focus Groups&lt;/h4&gt;&lt;p&gt;As part of the accessibility work, we found that dvui was not handling keyboard navigation correctly for logical groups of widgets (radio groups, tabs, menus, trees, grids).&lt;/p&gt;&lt;p&gt;Now TAB will move focus to the group, arrow keys move focus inside a group, and a second TAB will move past the group.&lt;/p&gt;&lt;p&gt;This is done automatically for tabs/menus/trees/grids, and available as &lt;code&gt;radioGroup&lt;/code&gt; for radio buttons and &lt;code&gt;focusGroup&lt;/code&gt; for arbitrary groups.&lt;/p&gt;&lt;h4&gt;Other Improvements:&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;Backend logging integrated with zig logging (&lt;strong&gt;Teodor Källman&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;TextLayoutWidget handles invalid utf8 when &lt;code&gt;.cache_layout&lt;/code&gt; (&lt;strong&gt;Teodor Källman&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;LabelWidget - will ellipsize when not enough room&lt;/li&gt;&lt;li&gt;Debug - new “Frame Times” graph can help understand if jitter is coming from between Window.begin/end&lt;/li&gt;&lt;li&gt;new &lt;code&gt;link()&lt;/code&gt; that renders URLs and handles clicks (also TextLayoutWidget.addLink)&lt;/li&gt;&lt;li&gt;Theme.max_default_corner_radius - easier to have themes with sharper corners&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-11-01</link>
          <pubDate>Sat, 01 Nov 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-11-01</guid>
        </item>
      
        <item>
          <title>Septemer 2025
</title>
          <description>&lt;div id=&quot;2025-10-02&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-10-02&quot;&gt;Septemer 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;6&lt;/strong&gt; people contributed this month with &lt;strong&gt;145&lt;/strong&gt; commits.&lt;/p&gt;&lt;h4&gt;Struct UI&lt;/h4&gt;&lt;p&gt;Big thanks to &lt;strong&gt;Paul Hatchman&lt;/strong&gt; who overhauled &lt;code&gt;dvui.structUI&lt;/code&gt; and it’s no longer experimental.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;automatically generates a UI to edit arbitrary zig structs&lt;/li&gt;&lt;li&gt;makes it very easy to quickly edit arbitrary data, especially in a debug window&lt;/li&gt;&lt;li&gt;see the demo “Struct UI” for examples&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;TextLayout/TextEntry Performance&lt;/h4&gt;&lt;p&gt;A lot of work went into improving the speed of text layout and editing:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;kerning options added (can turn off to improve speed)&lt;/li&gt;&lt;li&gt;ascii fast path for glyph measurement lookup&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The big enhancment is adding &lt;a href=&quot;#2025-09-24&quot;&gt;partial rendering&lt;/a&gt;:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;new &lt;code&gt;.cache_layout&lt;/code&gt; option&lt;/li&gt;&lt;li&gt;textLayout only processes visible text&lt;/li&gt;&lt;li&gt;textEntry communicates with textLayout to process only visible text while editing&lt;/li&gt;&lt;li&gt;performance is now independent of the size of the document&lt;/li&gt;&lt;li&gt;see demo “Large Doc” button in both “Text Entry” and “Text Layout” sections&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;Theme Cleanup:&lt;/h4&gt;&lt;p&gt;We did another round of theme work including:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Options: add back hover/press colors&lt;ul&gt;&lt;li&gt;these were useful and expected&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Options: add &lt;code&gt;*Theme&lt;/code&gt;&lt;ul&gt;&lt;li&gt;allows passing a separate theme instead of setting/resetting the global theme&lt;/li&gt;&lt;li&gt;demo “Styling” shows a button for each builtin theme&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Theme: add styles app1/app2/app3&lt;ul&gt;&lt;li&gt;reserved for application use (dvui won’t use for builtin widgets)&lt;/li&gt;&lt;li&gt;place for applications to put colors that cooperate with the dvui theming system&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;Other Improvements:&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;JPGEncoder - can write JPG via stb_image_write (&lt;strong&gt;Teodor Källman&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;TreeWidget - animations and tracking state (&lt;strong&gt;Colton Franklin&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;&lt;code&gt;clickedEx()&lt;/code&gt; - can check for alternate mouse buttons (&lt;strong&gt;rasp2006&lt;/strong&gt;)&lt;/li&gt;&lt;li&gt;better appearance at scales between 100-200% (like Windows 125%)&lt;/li&gt;&lt;li&gt;stroking a path with very acute angles more accurately preserves stroke thickness&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-10-02</link>
          <pubDate>Thu, 02 Oct 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-10-02</guid>
        </item>
      
        <item>
          <title>Large Document Speed
</title>
          <description>&lt;div id=&quot;2025-09-24&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-09-24&quot;&gt;Large Document Speed&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We now have fast partial rendering of large text documents in &lt;code&gt;TextLayoutWidget&lt;/code&gt; and &lt;code&gt;TextEntryWidget&lt;/code&gt;.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Load the demo&lt;/li&gt;&lt;li&gt;Go to the “Text Entry” or “Text Layout” sections&lt;/li&gt;&lt;li&gt;Click the “Large Doc” button at top right&lt;/li&gt;&lt;li&gt;Scrolling/Selection/Editing are fast independent of the amount of text&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The neat thing is the api for feeding text into these widgets is unchanged (thanks &lt;strong&gt;Teodor Källman&lt;/strong&gt;!).&lt;/p&gt;&lt;p&gt;It works generally the way you might expect:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;textLayout records the height after each newline (at least 200px apart)&lt;/li&gt;&lt;li&gt;when passed &lt;code&gt;.cache_layout = true&lt;/code&gt;, it uses the heights from last frame to only render the visible text&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;For textEntry editing, it combines the byte range affected by the edits with the visible text.&lt;/p&gt;&lt;p&gt;Things that require passing &lt;code&gt;.cache_layout = false&lt;/code&gt; for a frame:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;changing the text content outside of textEntry&lt;/li&gt;&lt;li&gt;changing the font&lt;/li&gt;&lt;li&gt;changing the font line spacing&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;textLayout detects a few situations automatically:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;natural scale of app changes&lt;/li&gt;&lt;li&gt;break_lines changes&lt;/li&gt;&lt;li&gt;width changes when break_lines is true&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;dvui is starting to be reasonable for file editing!&lt;/p&gt;&lt;p&gt;If you have any questions or problems, please ask on Discord or file an issue/discussion on Github.  Thanks!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-09-24</link>
          <pubDate>Wed, 24 Sep 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-09-24</guid>
        </item>
      
        <item>
          <title>Cross Widget Dragging
</title>
          <description>&lt;div id=&quot;2025-09-05&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-09-05&quot;&gt;Cross Widget Dragging&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;With huge help from &lt;strong&gt;Colton Franklin&lt;/strong&gt; we now have the pieces in place to support drag-n-drop across widgets.&lt;/p&gt;&lt;p&gt;Here are the questions for drag-n-drop:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;How does the drag start?&lt;/li&gt;&lt;li&gt;What is being dragged?&lt;/li&gt;&lt;li&gt;Who draws the thing being dragged?&lt;/li&gt;&lt;li&gt;How do you know when a drag is happening?&lt;/li&gt;&lt;li&gt;How does the drag end?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;For dragging inside a single widget, the answers are pretty easy:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Capture the mouse on mouse down&lt;/p&gt;&lt;ul&gt;&lt;li&gt;call &lt;code&gt;dvui.dragPreStart()&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Drag starts once mouse motion exceeds the drag threshold (&lt;code&gt;dvui.dragging()&lt;/code&gt; is non-null)&lt;/p&gt;&lt;ul&gt;&lt;li&gt;the single widget records what is being dragged&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Drag is happening while we have capture and &lt;code&gt;dvui.dragging()&lt;/code&gt; is non-null&lt;/p&gt;&lt;ul&gt;&lt;li&gt;the single widget draws an icon (in a FloatingWidget) to depict the thing being dragged&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Finish the drag on mouse up&lt;/p&gt;&lt;ul&gt;&lt;li&gt;because we have capture, we always see the mouse up&lt;/li&gt;&lt;li&gt;end the drag &lt;code&gt;dvui.dragEnd()&lt;/code&gt;&lt;/li&gt;&lt;li&gt;give up mouse capture&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;Drag-n-Drop Across Widgets:&lt;/h4&gt;&lt;p&gt;We added a “drag name” mechanism.  You assign a well-known string for each logical kind of cross-widget drag. All the widgets involved use that drag name to coordinate.&lt;/p&gt;&lt;p&gt;The sequence for cross-widget dragging:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;Starting widget (still) captures the mouse on mouse down&lt;/p&gt;&lt;ul&gt;&lt;li&gt;pass the drag name to &lt;code&gt;dvui.dragPreStart()&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Drag starts once mouse motion exceeds the drag threshold (&lt;code&gt;dvui.dragging()&lt;/code&gt; is non-null)&lt;/p&gt;&lt;ul&gt;&lt;li&gt;starting widget must give up mouse capture&lt;/li&gt;&lt;li&gt;application must record what is being dragged&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Drag is happening while &lt;code&gt;dvui.dragName()&lt;/code&gt; is true&lt;/p&gt;&lt;ul&gt;&lt;li&gt;widgets use this to show “I’m a valid drop target”&lt;/li&gt;&lt;li&gt;one widget (usually the starting widget) or separate code draws (in a FloatingWidget with &lt;code&gt;.mouse_events = false&lt;/code&gt;) the thing being dragged&lt;/li&gt;&lt;li&gt;drag icon position is &lt;code&gt;dvui.currentWindow().mouse_pt.plus(dvui.dragOffset())&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Widgets must pass the drag name to &lt;code&gt;dvui.eventMatch()&lt;/code&gt; to match mouse events&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Finish the drag on mouse up&lt;/p&gt;&lt;ul&gt;&lt;li&gt;if a participating widget gets mouse up, it is a successful drop&lt;/li&gt;&lt;li&gt;end the drag &lt;code&gt;dvui.dragEnd()&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Unhandled mouse up cancels&lt;/p&gt;&lt;ul&gt;&lt;li&gt;if no widget handles mouse up, &lt;code&gt;dvui.Window&lt;/code&gt; will see it and cancel the drag&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This is enough pieces to implement cross-widget drag-n-drop, including multiple separate non-interacting cross-widget drags.&lt;/p&gt;&lt;p&gt;In the demo “Reorder / Tree” section, expand the “Advanced” section and toggle the checkbox.  This shows how you can drag things from the simple reorder section to the advanced section.&lt;/p&gt;&lt;p&gt;If you have any questions or problems, please ask on Discord or file an issue/discussion on Github!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-09-05</link>
          <pubDate>Fri, 05 Sep 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-09-05</guid>
        </item>
      
        <item>
          <title>August 2025
</title>
          <description>&lt;div id=&quot;2025-09-02&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-09-02&quot;&gt;August 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;6&lt;/strong&gt; people contributed this month with &lt;strong&gt;111&lt;/strong&gt; commits.&lt;/p&gt;&lt;h4&gt;Zig 0.15.1:&lt;/h4&gt;&lt;p&gt;We just (start of September) updated to Zig 0.15.1.  Mostly went smoothly with a few exceptions:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;del&gt;dx11 backend is waiting on a dependency update&lt;/del&gt; (fixed)&lt;/li&gt;&lt;li&gt;&lt;del&gt;we need to use the llvm backend due to hitting some bug in the native x86_64 backend&lt;/del&gt; (fixed)&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;Theme Cleanup:&lt;/h4&gt;&lt;p&gt;We took the first big step to cleaning up how themes work.  Even just with colors, it’s tricky:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a theme can’t have separate colors for each widget&lt;ul&gt;&lt;li&gt;no room for colors for 3rd party widgets&lt;/li&gt;&lt;li&gt;very hard for theme authors&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;So we are trying to move towards having a theme with just enough “intention-based” colors, like:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a few colors for things you press (like buttons)&lt;/li&gt;&lt;li&gt;a few for things that have text content (like textLayout)&lt;/li&gt;&lt;li&gt;a few for containers of other widgets (like windows)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This is combined with a fallback system, so (for example) if the theme provides a button fill color, but no button hover fill color, dvui will create one by lightening/darkening the fill color (depending on the light/dark setting of the theme).&lt;/p&gt;&lt;p&gt;I think we are headed in the right direction, but will likely need a few more tweaks, possibly including:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;colors in the theme reserved for application use&lt;/li&gt;&lt;li&gt;color palette for stuff like different lines in a plot&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Theme stuff dovetails into how to override colors for single widgets.  We aren’t as far along here, but investigating a tiered approach:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;easy way to override a few colors (text, fill, border)&lt;ul&gt;&lt;li&gt;typically stuff that is used in an ad-hoc way, maybe just during development&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;general way to override all colors&lt;ul&gt;&lt;li&gt;might involve copying/modifying the theme locally&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;still figuring out how to flow overrides from parent to child widgets&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thanks very much to &lt;strong&gt;Teodor Källman&lt;/strong&gt; for working through this!&lt;/p&gt;&lt;h4&gt;Menus:&lt;/h4&gt;&lt;p&gt;Big thanks to &lt;strong&gt;BrotherJ&lt;/strong&gt; for carefully detailing ways in which dvui menu behavior did not match normal expectations.&lt;/p&gt;&lt;p&gt;We fixed a lot of corner cases, so they should feel more like typical OS menus.&lt;/p&gt;&lt;h4&gt;Cross Widget Dragging:&lt;/h4&gt;&lt;p&gt;We now have a serious answer for how to do &lt;a href=&quot;#2025-09-05&quot;&gt;cross-widget dragging&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Thank you to &lt;strong&gt;Colton Franklin&lt;/strong&gt; for working through this!&lt;/p&gt;&lt;h4&gt;Other Improvements:&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;Paned got autofit for the first child&lt;/li&gt;&lt;li&gt;zls workarounds to get correct backend suggestions&lt;/li&gt;&lt;li&gt;added max fps slider to debug window for easy testing&lt;/li&gt;&lt;li&gt;button order setting that affects &lt;code&gt;dvui.dialog()&lt;/code&gt;&lt;ul&gt;&lt;li&gt;default on Windows is “Ok” then “Cancel”&lt;/li&gt;&lt;li&gt;otherwise “Cancel” is before “Ok”&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you very much to everyone who landed at least one commit:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Teodor Källman&lt;/li&gt;&lt;li&gt;BrotherJ&lt;/li&gt;&lt;li&gt;Paul Hatchman&lt;/li&gt;&lt;li&gt;Colton Franklin&lt;/li&gt;&lt;li&gt;thuvasooriya&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-09-02</link>
          <pubDate>Tue, 02 Sep 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-09-02</guid>
        </item>
      
        <item>
          <title>July 2025
</title>
          <description>&lt;div id=&quot;2025-08-01&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-08-01&quot;&gt;July 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;7&lt;/strong&gt; people contributed this month with &lt;strong&gt;229&lt;/strong&gt; commits.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Teodor Källman&lt;/strong&gt; kept the streak alive:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;new theme editor example in the demo&lt;/li&gt;&lt;li&gt;online options editor&lt;ul&gt;&lt;li&gt;override widget Options live to see the changes&lt;/li&gt;&lt;li&gt;open the dvui debug window&lt;/li&gt;&lt;li&gt;select a widget (using Debug Under Mouse)&lt;/li&gt;&lt;li&gt;click “Edit Options” in top right corner&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;In general this month had tons of improvements across the board:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;grid improvements&lt;/li&gt;&lt;li&gt;more uniform scrolling across backends&lt;/li&gt;&lt;li&gt;better scrolling on macos&lt;/li&gt;&lt;li&gt;web: better support for on screen keyboards&lt;/li&gt;&lt;li&gt;demo cleanups&lt;/li&gt;&lt;li&gt;more errors logged to ease development bugs&lt;/li&gt;&lt;li&gt;ImageSource&lt;ul&gt;&lt;li&gt;progress on making &lt;code&gt;image()&lt;/code&gt; smarter about when to regenerate textures&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Options.data_out&lt;ul&gt;&lt;li&gt;general mechanism to extract data about a widget even from a high level api&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Big thanks to everyone who landed at least one commit:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Teodor Källman&lt;/li&gt;&lt;li&gt;Paul Hatchman&lt;/li&gt;&lt;li&gt;nat3&lt;/li&gt;&lt;li&gt;Colton Franklin&lt;/li&gt;&lt;li&gt;Deins&lt;/li&gt;&lt;li&gt;Meiko&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-08-01</link>
          <pubDate>Fri, 01 Aug 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-08-01</guid>
        </item>
      
        <item>
          <title>Removing Bubbled Events
</title>
          <description>&lt;div id=&quot;2025-07-09&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-07-09&quot;&gt;Removing Bubbled Events&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We recently removed callbacks for key events.  This is pushing the immediate-mode paradigm forward in an unexpected way.&lt;/p&gt;&lt;p&gt;For background, widget relationships can affect who handles each event.  With immediate-mode, a parent widget does not know what children it will see each frame.&lt;/p&gt;&lt;p&gt;Mouse events:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;parent might process it &lt;strong&gt;before&lt;/strong&gt; children&lt;ul&gt;&lt;li&gt;example: floating window reserves the bottom-left corner for resizing&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;parent might process it &lt;strong&gt;after&lt;/strong&gt; children&lt;ul&gt;&lt;li&gt;example: floating window header does click drag if click is &lt;strong&gt;not&lt;/strong&gt; on the close button&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This works by checking the event against widget rectangles.  A parent can know if a child got a chance, because all the children are inside the parent’s rectangle.&lt;/p&gt;&lt;p&gt;Key events are different, they target the widget with keyboard focus.&lt;/p&gt;&lt;p&gt;Key events:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;parents might process it &lt;strong&gt;after&lt;/strong&gt; children&lt;ul&gt;&lt;li&gt;example: up arrow on a button should scroll the containing scroll area (if any)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;To make this work, we used to have each widget propagate non-processed key events up the parent chain, just in case a parent wanted to process them.&lt;/p&gt;&lt;p&gt;This works, but uses callbacks.  To add a keyboard shortcut to only a section of the gui, you had to write a whole Widget that was the parent of that whole section.  Ugh.&lt;/p&gt;&lt;p&gt;We finally found the key question:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;How can a parent know if one of the children had focus?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;More generally:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;How can we know if any sequence of widgets had focus?&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The answer is &lt;code&gt;dvui.lastFocusedIdInFrame()&lt;/code&gt;.  It returns the last widget id we saw during this frame that had focus (might be none).&lt;/p&gt;&lt;p&gt;If you call that twice, and the return is different, then a widget that ran between the two calls had focus.  And you have the id to match events against.&lt;/p&gt;&lt;p&gt;Now to add a keyboard shortcut to a gui section:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;put the two calls around the section&lt;/li&gt;&lt;li&gt;if different, match events against the second return&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This is also now what widgets use internally to process key events after children.  It also improves code-flow understanding by not having parent code called during a child’s lifetime.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-07-09</link>
          <pubDate>Wed, 09 Jul 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-07-09</guid>
        </item>
      
        <item>
          <title>June 2025
</title>
          <description>&lt;div id=&quot;2025-07-02&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-07-02&quot;&gt;June 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;8&lt;/strong&gt; people contributed this month with &lt;strong&gt;301&lt;/strong&gt; commits.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Colton Franklin&lt;/strong&gt; contributed a whole tree widget!&lt;/p&gt;&lt;ul&gt;&lt;li&gt;easily show a filesystem or other tree-like data&lt;/li&gt;&lt;li&gt;expanding subtrees&lt;/li&gt;&lt;li&gt;drag-n-drop&lt;/li&gt;&lt;li&gt;see the “Reorder / Tree” section of the demo&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Teodor Källman&lt;/strong&gt; continued their impressive contributions:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;removing errors on most functions (see &lt;a href=&quot;#2025-06-17&quot;&gt;below&lt;/a&gt;)&lt;ul&gt;&lt;li&gt;error logs with stack traces&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;major overhaul of dvui’s allocations:&lt;ul&gt;&lt;li&gt;shrinking arena wrapper on Zig’s arena allocator&lt;/li&gt;&lt;li&gt;splitting dvui’s allocations to improve peak memory use&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;matching the system light/dark theme by default&lt;/li&gt;&lt;li&gt;tons of backend fixes and enhancements&lt;/li&gt;&lt;li&gt;fixes to prevent using undefined&lt;/li&gt;&lt;li&gt;removing bubbling events (see &lt;a href=&quot;#2025-07-09&quot;&gt;above&lt;/a&gt;)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Paul Hatchman&lt;/strong&gt; put a lot of work into:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;grid features&lt;ul&gt;&lt;li&gt;populate the grid by row or col&lt;/li&gt;&lt;li&gt;resizable columns&lt;/li&gt;&lt;li&gt;sortable columns&lt;/li&gt;&lt;li&gt;keyboard navigation&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;safety checks to prevent use-after-free bugs&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;nat3&lt;/strong&gt; was back:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;image() from rgba bytes&lt;/li&gt;&lt;li&gt;rendering tvg at runtime&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Meiko&lt;/strong&gt; contributed:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;build.zig changes to improve zls info for backends&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-07-02</link>
          <pubDate>Wed, 02 Jul 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-07-02</guid>
        </item>
      
        <item>
          <title>Live Resize on Windows and Mac
</title>
          <description>&lt;div id=&quot;2025-06-24&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-06-24&quot;&gt;Live Resize on Windows and Mac&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We all want our applications to repaint smoothly while the OS window is being resized.&lt;/p&gt;&lt;p&gt;Unfortunately Windows and Mac make this difficult.  The normal event loop is suspended during the entire resize.&lt;/p&gt;&lt;p&gt;This meant during the resize you saw:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Windows: frozen last frame maybe cropped or with additional space&lt;/li&gt;&lt;li&gt;Mac: frozen last frame stretched/squashed to fit&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The underlying problem on both platforms is that they run a nested event loop during the resize, so we lose control.&lt;/p&gt;&lt;p&gt;There seem to be 2 solutions:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;implement callbacks - render a new frame in the callback&lt;/li&gt;&lt;li&gt;use multiple threads - render in a separate thread and coordinate&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;We now use the callback solution by default in the &lt;strong&gt;SDL3 backend if you are using dvui.App&lt;/strong&gt; (so already using callbacks).&lt;/p&gt;&lt;p&gt;This works, you can see the content reflow while resizing!&lt;/p&gt;&lt;p&gt;But it is not perfect:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Windows: &lt;del&gt;it causes a delay when dragging the OS window around by the window title bar&lt;/del&gt;&lt;ul&gt;&lt;li&gt;SDL resolved this issue - we think by disabling vsync during the drag&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Mac: resizing introduces some jitter in the sizing of the OS window&lt;/li&gt;&lt;li&gt;While enabled by default, it can be disabled by &lt;code&gt;-Dsdl3-callbacks=false&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;As best I can tell, to improve on this you have to use multiple threads and put a lot of bespoke code in.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-06-24</link>
          <pubDate>Tue, 24 Jun 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-06-24</guid>
        </item>
      
        <item>
          <title>Removing Errors From Most Functions
</title>
          <description>&lt;div id=&quot;2025-06-17&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-06-17&quot;&gt;Removing Errors From Most Functions&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Teodor Källman has successfully removed errors from almost all dvui functions.  Horay!&lt;/p&gt;&lt;p&gt;Now dvui handles most errors internally:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;If the high level API failes to allocate space for a widget, we panic.&lt;ul&gt;&lt;li&gt;The alternative is to allocate the widget on the stack, but it is unclear how that would be better.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;If a widget gets an error while rendering, it logs it and continues.&lt;/li&gt;&lt;li&gt;If a widget gets an allocation error internally (like a label format that goes bad), it logs it and continues.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Some functions like &lt;code&gt;textureCreate()&lt;/code&gt; can still fail.&lt;/p&gt;&lt;p&gt;Up to this point we hadn’t spent much time thinking about errors.  Everybody (that I saw) put &lt;code&gt;try&lt;/code&gt; in front of all dvui functions, and any error took down the whole app.&lt;/p&gt;&lt;p&gt;Now dvui is aiming to be more robust to errors, especially cases under end-user control.&lt;/p&gt;&lt;p&gt;For example, if your gui shows user-controlled text or graphs user data, then we’d like for dvui to not crash if the user tries to show way too much text/info.  Ideally dvui continues running and shows some visual indication that something is wrong, allowing the user to get back out of the situation.&lt;/p&gt;&lt;p&gt;This is the first big push in that direction, and we’ll continue to refine how we handle errors going forward.&lt;/p&gt;&lt;p&gt;If you have an application where dvui error handling is causing problems, I want to know!  Please file an issue.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-06-17</link>
          <pubDate>Tue, 17 Jun 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-06-17</guid>
        </item>
      
        <item>
          <title>Raylib Variable Framerate
</title>
          <description>&lt;div id=&quot;2025-06-04&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-06-04&quot;&gt;Raylib Variable Framerate&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;@sooriya on discord recently asked if we could do variable framerate on raylib, and now we can!&lt;/p&gt;&lt;p&gt;For waiting on an event without any timeout, raylib already had the necessary pieces with EnableEventWaiting().&lt;/p&gt;&lt;p&gt;For waiting with a timeout, I submitted a proposal PR to raylib, but it was turned down.  So for that we are assuming that raylib is using glfw and we are directly calling glfwWaitEventsTimeout().&lt;/p&gt;&lt;p&gt;You can get this either by using dvui.App or copying the relevant parts from the updated examples/raylib-standalone.zig.&lt;/p&gt;&lt;p&gt;It’s not perfect:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;glfwWaitEventsTimeout() doesn’t tell us if it was interrupted or not&lt;/li&gt;&lt;li&gt;if an event comes between EndDrawing() and glfwWaitEventsTimeout() we will wait anyway&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;But it’s good enough for applications that don’t want to peg the cpu.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-06-04</link>
          <pubDate>Wed, 04 Jun 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-06-04</guid>
        </item>
      
        <item>
          <title>May 2025
</title>
          <description>&lt;div id=&quot;2025-06-01&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-06-01&quot;&gt;May 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;7&lt;/strong&gt; people contributed this month with &lt;strong&gt;192&lt;/strong&gt; commits.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;nat3&lt;/strong&gt; rewrote and improved our icon rendering and compatibility:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/nat3Github/zig-lib-svg2tvg&quot; target=&quot;_blank&quot;&gt;svg2tvg&lt;/a&gt; is now dvui’s icon renderer&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/nat3Github/zig-lib-icons&quot; target=&quot;_blank&quot;&gt;icons&lt;/a&gt; hosts many icons in tvg format&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you!&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Paul Hatchman&lt;/strong&gt; wrote an entire GridWidget:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;see “Grid” part of the demo for all the cool functionality&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you!&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Teodor Källman&lt;/strong&gt; was back again:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;#2025-05-12&quot;&gt;type safety&lt;/a&gt; for Rect/Size/Point&lt;/li&gt;&lt;li&gt;type safety for pre-multiplied alpha in Color&lt;/li&gt;&lt;li&gt;color picker&lt;/li&gt;&lt;li&gt;debug logging handled and unhandled events&lt;/li&gt;&lt;li&gt;triangles drawing abstraction supporting:&lt;ul&gt;&lt;li&gt;gradients&lt;/li&gt;&lt;li&gt;box shadows&lt;/li&gt;&lt;li&gt;textures with rounded corners&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;snapshots independent of rendering&lt;/li&gt;&lt;li&gt;better documentation image generation&lt;/li&gt;&lt;li&gt;suggestion/combobox filtering&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;See “Styling” part of the demo for the color picker, box shadows, and gradients.&lt;/p&gt;&lt;p&gt;Thank you!&lt;/p&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-06-01</link>
          <pubDate>Sun, 01 Jun 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-06-01</guid>
        </item>
      
        <item>
          <title>In the Wild: Layer Failure
</title>
          <description>&lt;div id=&quot;2025-05-22&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-05-22&quot;&gt;In the Wild: Layer Failure&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://david-vanderson.github.io/log/2025/fail_layer.gif&quot;&gt;&lt;/p&gt;&lt;p&gt;What’s going on here:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;I touch “cancel”&lt;/li&gt;&lt;li&gt;Dialog goes away&lt;/li&gt;&lt;li&gt;My touch &lt;em&gt;also&lt;/em&gt; clicks the button underneath “cancel”&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;In the end a store assistant came over and knew some other place on the screen you could touch to get rid of the dialog.&lt;/p&gt;&lt;p&gt;This kind of thing is why DVUI put a lot of work into the interaction between events and subwindows (dvui’s layers).&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-05-22</link>
          <pubDate>Thu, 22 May 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-05-22</guid>
        </item>
      
        <item>
          <title>Taking Units Seriously
</title>
          <description>&lt;div id=&quot;2025-05-12&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-05-12&quot;&gt;Taking Units Seriously&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;DVUI’s main geometry struct is a &lt;code&gt;Rect&lt;/code&gt; (rectangle with x,y and width/height).  But what are the units?&lt;/p&gt;&lt;p&gt;We have 3 common units:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Physical Pixels&lt;ul&gt;&lt;li&gt;1-to-1 with screen/output pixels&lt;/li&gt;&lt;li&gt;dvui events and drawing use this&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Natural Pixels&lt;ul&gt;&lt;li&gt;approximately 72 per inch&lt;/li&gt;&lt;li&gt;will be different from Physical on hidpi screens&lt;/li&gt;&lt;li&gt;modified by content scaling&lt;/li&gt;&lt;li&gt;dvui floating windows/widgets use this&lt;/li&gt;&lt;li&gt;OS events generally use this&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Logical Pixels&lt;ul&gt;&lt;li&gt;local coordinates possibly modified by parent widgets&lt;/li&gt;&lt;li&gt;ScaleWidget changes this&lt;/li&gt;&lt;li&gt;normal widgets use this&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;For example, you might specify a &lt;code&gt;textEntry&lt;/code&gt; with a font that is 16px tall and &lt;code&gt;.min_content_size = .{ .w = 100 }&lt;/code&gt;.  Those are logical pixels, so they mean something together, but don’t say anything about how large it will be on the screen.&lt;/p&gt;&lt;p&gt;To convert, widgets call &lt;code&gt;WidgetData.rectScale()&lt;/code&gt; (or similar) which calls &lt;code&gt;parent.screenRectScale()&lt;/code&gt; to get a &lt;code&gt;RectScale&lt;/code&gt;.  That is a physical rect plus a scale, and represents a rectangle of screen pixels and the scale factor between logical and physical pixels.&lt;/p&gt;&lt;p&gt;From the beginning we’ve had a steady stream of units errors because the units were implicit.&lt;/p&gt;&lt;h4&gt;Making Units Explicit&lt;/h4&gt;&lt;p&gt;We’re trying out adding units to the types.  Now we have:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Rect (Logical)&lt;/li&gt;&lt;li&gt;Rect.Physical&lt;/li&gt;&lt;li&gt;Rect.Natural&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;For example &lt;code&gt;RectScale.rectToPhysical()&lt;/code&gt; converts from a (logical) Rect to Rect.Physical.  &lt;code&gt;Rect.scale()&lt;/code&gt; now requires a unit type representing the units being converted to.&lt;/p&gt;&lt;p&gt;The drawing functions all take Rect.Physical, and the floating functions take Rect.Natural, hopefully making most units errors into compile errors.&lt;/p&gt;&lt;p&gt;This has already caught a few bugs, and I’m hoping it helps going forward.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-05-12</link>
          <pubDate>Mon, 12 May 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-05-12</guid>
        </item>
      
        <item>
          <title>April 2025
</title>
          <description>&lt;div id=&quot;2025-05-01&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-05-01&quot;&gt;April 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Special thank you this month to Teodor Källman, who implemented:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Testing&lt;ul&gt;&lt;li&gt;we can now run gui tests as normal zig tests&lt;/li&gt;&lt;li&gt;testing backend that runs headless&lt;/li&gt;&lt;li&gt;github actions to run the builtin tests&lt;/li&gt;&lt;li&gt;snapshot images for ensuring no visible changes&lt;/li&gt;&lt;li&gt;documentation images produced from tests&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Scripting&lt;ul&gt;&lt;li&gt;gui interactions can be automated for testing/scripting&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Dx11 backend render targets&lt;/li&gt;&lt;li&gt;Animation easing functions&lt;/li&gt;&lt;li&gt;Rounded corners on textures&lt;/li&gt;&lt;li&gt;App&lt;ul&gt;&lt;li&gt;higher-level interface for using dvui&lt;/li&gt;&lt;li&gt;dvui runs the mainloop (you provide a few callbacks)&lt;/li&gt;&lt;li&gt;app can be run on multiple backends&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Thank you to @Yinameah for making the docs look much better!&lt;/p&gt;&lt;p&gt;7 people contributed this month with 227 commits.&lt;/p&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-05-01</link>
          <pubDate>Thu, 01 May 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-05-01</guid>
        </item>
      
        <item>
          <title>type-based intent
</title>
          <description>&lt;div id=&quot;2025-04-30&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-04-30&quot;&gt;type-based intent&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;We recently split &lt;code&gt;Texture&lt;/code&gt; into two types: &lt;code&gt;Texture&lt;/code&gt; and &lt;code&gt;TextureTarget&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Both have the same fields (pointer, width, height), so what gives?&lt;/p&gt;&lt;p&gt;Backends make two varieties of textures:  “Normal” ones that are drawn &lt;strong&gt;from&lt;/strong&gt;, and “Target” ones that are drawn &lt;strong&gt;to&lt;/strong&gt;.&lt;/p&gt;&lt;p&gt;Some backends (web, raylib) treat these interchangeably.  But sdl can’t read from a “Normal”, and dx11 can’t draw from a “Target”.&lt;/p&gt;&lt;p&gt;Generally the type you get from the backend is the same, but there is a bit of state associated with it.  We could have done the same:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;pub const Texture = struct {
    is_target: bool,
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;But then we have to check that field (easy to mess up), and have a way to notify developers if they used the wrong kind in the wrong place.&lt;/p&gt;&lt;h4&gt;Type-based Intent&lt;/h4&gt;&lt;p&gt;We are now putting that bit of state into the type:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// this is always &amp;quot;normal&amp;quot;
pub const Texture = struct { ... };

// this is always &amp;quot;target&amp;quot;
pub const TextureTarget = struct { ... };
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now you get a compile error when trying to use the wrong one in the wrong place.  Great!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-04-30</link>
          <pubDate>Wed, 30 Apr 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-04-30</guid>
        </item>
      
        <item>
          <title>March 2025
</title>
          <description>&lt;div id=&quot;2025-04-01&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-04-01&quot;&gt;March 2025&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;dvui got a bunch of new stuff this month:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;combobox (combines textEntry and dropdown)&lt;/li&gt;&lt;li&gt;suggestions (choices that show dynamically under a textEntry)&lt;/li&gt;&lt;li&gt;tooltips&lt;/li&gt;&lt;li&gt;web file upload&lt;/li&gt;&lt;li&gt;simple plots&lt;/li&gt;&lt;li&gt;kerning&lt;/li&gt;&lt;li&gt;horizontal mouse wheel support&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Plus a whole ton of minor fixes and enhancements.&lt;/p&gt;&lt;p&gt;We had 6 people contribute this month!&lt;/p&gt;&lt;p&gt;Thank you to everyone who asked questions, filed issues, and contributed!&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-04-01</link>
          <pubDate>Tue, 01 Apr 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-04-01</guid>
        </item>
      
        <item>
          <title>double click, long tap, and friction
</title>
          <description>&lt;div id=&quot;2025-03-11&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-03-11&quot;&gt;double click, long tap, and friction&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;dvui does not currently have built-in support for double-click, double-tap, or long-tap.  My current thinking is that those interaction patterns are generally worse than the alternatives.&lt;/p&gt;&lt;p&gt;The general advantage of these is to have a second way to interact with a widget besides a normal click/tap.  Otherwise you need a separate widget, or the widget be modal, or change depending on zoom level, or some other redesign.&lt;/p&gt;&lt;p&gt;The downsides are poor discoverability and accessibility.  I’ve personally had the experience of trying to double-click or long-tap something, nothing happens, and I’m left unsure if it doesn’t exist or if I did the interaction wrong.&lt;/p&gt;&lt;p&gt;I’ve watched people with slight hand shakiness try to long-tap repeatedly but only ever get a touch-drag.&lt;/p&gt;&lt;p&gt;This is why dvui’s textLayout and textEntry widgets provide a modal touch interface.  A single tap transitions between normal mode and selection mode.&lt;/p&gt;&lt;p&gt;They do have mouse-only 2-click word select and 3-click line select.  Those are features that are useful to some while not requiring use by all.&lt;/p&gt;&lt;h4&gt;How much should my opinions shape dvui’s design?&lt;/h4&gt;&lt;p&gt;On one hand dvui must serve its users (developers) in providing the UI features they need and want.&lt;/p&gt;&lt;p&gt;On the other hand dvui should serve its users by making it easier to build good UIs than bad ones.  Nobody wants a button that by default only responds to a triple-click.&lt;/p&gt;&lt;p&gt;My strategy is to make requested features possible, but use my experience to guide developers by making some features easier to use than others.&lt;/p&gt;&lt;p&gt;We see a similar strategy in Zig design, where the core team uses “friction” to guide developers - some patterns are intentionally left more awkward to use than others to discorage their use while not preventing it outright.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-03-11</link>
          <pubDate>Tue, 11 Mar 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-03-11</guid>
        </item>
      
        <item>
          <title>min_size_content is not the minimum
</title>
          <description>&lt;div id=&quot;2025-02-23&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-02-23&quot;&gt;min_size_content is not the minimum&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;If the parent does not have enough space, child widgets get less than their min size.&lt;/p&gt;&lt;p&gt;What about &lt;strong&gt;max_size_content&lt;/strong&gt; - can a widget get more?&lt;/p&gt;&lt;p&gt;Yes - if that widget is expanded, it can be larger than max_size_content.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;min_size_content&lt;/strong&gt; and &lt;strong&gt;max_size_content&lt;/strong&gt; are both constraints imposed on the minimum size that dvui saves for each widget from frame to frame.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-02-23</link>
          <pubDate>Sun, 23 Feb 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-02-23</guid>
        </item>
      
        <item>
          <title>Why min_size_content?
</title>
          <description>&lt;div id=&quot;2025-02-22&quot;&gt;&lt;h2&gt;&lt;a class=&quot;&quot; href=&quot;#2025-02-22&quot;&gt;Why min_size_content?&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;To make it clear that padding/border/margin is added on top of that.&lt;/p&gt;&lt;p&gt;Why not just &lt;strong&gt;min_size&lt;/strong&gt;?&lt;/p&gt;&lt;p&gt;This is an example of naming tension in API design.&lt;/p&gt;&lt;p&gt;When you want a widget to be larger than its minimum size (but not expanded):&lt;/p&gt;&lt;pre&gt;&lt;code&gt;.{ .min_size_content = .{ .w = 100, .h = 50 } }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;We could make it shorter and easier to remember by using just &lt;strong&gt;min_size&lt;/strong&gt;, but then you have to remember (or lookup) if that already includes padding/border/margin.&lt;/p&gt;&lt;p&gt;So &lt;strong&gt;min_size_content&lt;/strong&gt; costs more characters but makes reading the code (especially for people new to DVUI) slightly easier.&lt;/p&gt;&lt;p&gt;Hard to know which way to go, but I think about stuff like this a lot.&lt;/p&gt;&lt;/div&gt;</description>
          <link>https://david-vanderson.github.io/log/#2025-02-22</link>
          <pubDate>Sat, 22 Feb 2025 00:00:00 +0000</pubDate>
          <guid>https://david-vanderson.github.io/log/#2025-02-22</guid>
        </item>
      
    
  </channel>
</rss>
